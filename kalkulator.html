
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Kalkulator Jarak Waktu Kecepatan</title>

<script src="https://cdn.jsdelivr.net/npm/brython@3.11.0/brython.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/brython@3.11.0/brython_stdlib.js"></script>

<style>
body { font-family: Arial; max-width: 700px; margin: 20px auto; padding: 20px; }
.box { background: #f2f2f2; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
label { font-weight: bold; }
input, select { padding: 7px; margin: 5px 0; width: 200px; }
button { padding: 10px 15px; margin-top: 10px; }
#hasil { margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 8px; }
.hidden { display: none; }
</style>
</head>

<body onload="brython()">

<h2>Kalkulator Jarak • Waktu • Kecepatan (Otomatis)</h2>

<div class="box">
    <label>Pilih Perhitungan:</label><br>
    <select id="mode">
        <option value="speed">Hitung Kecepatan ( Jarak / Waktu )</option>
        <option value="distance">Hitung Jarak ( Kecepatan × Waktu )</option>
        <option value="time">Hitung Waktu ( Jarak / Kecepatan )</option>
    </select>
</div>

<!-- INPUT 1 -->
<div class="box">
    <h3 id="label1">Input 1</h3>
    <input id="value1" type="number" step="any">

    <br>
    <label>Satuan Nilai 1:</label><br>

    <select id="u1_dist" class="hidden">
        <option value="">--Jarak--</option>
        <option value="km">Kilometer</option>
        <option value="m">Meter</option>
        <option value="cm">Centimeter</option>
    </select>

    <select id="u1_time" class="hidden">
        <option value="">--Waktu--</option>
        <option value="s">Detik</option>
        <option value="min">Menit</option>
        <option value="h">Jam</option>
    </select>

    <select id="u1_speed" class="hidden">
        <option value="">--Kecepatan--</option>
        <option value="ms">m/s</option>
        <option value="kmh">km/jam</option>
        <option value="cms">cm/s</option>
    </select>
</div>

<!-- INPUT 2 -->
<div class="box">
    <h3 id="label2">Input 2</h3>
    <input id="value2" type="number" step="any">

    <br>
    <label>Satuan Nilai 2:</label><br>

    <select id="u2_dist" class="hidden">
        <option value="">--Jarak--</option>
        <option value="km">Kilometer</option>
        <option value="m">Meter</option>
        <option value="cm">Centimeter</option>
    </select>

    <select id="u2_time" class="hidden">
        <option value="">--Waktu--</option>
        <option value="s">Detik</option>
        <option value="min">Menit</option>
        <option value="h">Jam</option>
    </select>

    <select id="u2_speed" class="hidden">
        <option value="">--Kecepatan--</option>
        <option value="ms">m/s</option>
        <option value="kmh">km/jam</option>
        <option value="cms">cm/s</option>
    </select>
</div>

<button id="hitung">Hitung</button>

<div id="hasil">Hasil akan muncul di sini...</div>

<script type="text/python">

from browser import document

#------------------------------------------
# Fungsi Konversi Satuan
#------------------------------------------

def dist_to_m(v, u):
    return {"km": v*1000, "m": v, "cm": v/100}.get(u)

def time_to_s(v, u):
    return {"h": v*3600, "min": v*60, "s": v}.get(u)

def speed_to_mps(v, u):
    return {"ms": v, "kmh": v*1000/3600, "cms": v/100}.get(u)

def mps_to_text(v):
    return f"{v:.3f} m/s  |  {(v*3.6):.3f} km/jam"

#------------------------------------------
# Menyembunyikan semua dropdown satuan
#------------------------------------------

def hide_all():
    for id in [
        "u1_dist","u1_time","u1_speed",
        "u2_dist","u2_time","u2_speed"
    ]:
        document[id].class_name = "hidden"

#------------------------------------------
# Menampilkan dropdown sesuai mode
#------------------------------------------

def show(elem): 
    document[elem].class_name = ""

def update_ui(ev=None):
    hide_all()
    mode = document["mode"].value

    if mode == "speed":
        document["label1"].text = "Input 1: Jarak"
        document["label2"].text = "Input 2: Waktu"

        show("u1_dist")
        show("u2_time")

    elif mode == "distance":
        document["label1"].text = "Input 1: Kecepatan"
        document["label2"].text = "Input 2: Waktu"

        show("u1_speed")
        show("u2_time")

    elif mode == "time":
        document["label1"].text = "Input 1: Jarak"
        document["label2"].text = "Input 2: Kecepatan"

        show("u1_dist")
        show("u2_speed")

update_ui()
document["mode"].bind("change", update_ui)

#------------------------------------------
# Mengambil unit terpilih
#------------------------------------------

def get_selected(prefix):
    for t in ("dist","time","speed"):
        if document[f"{prefix}_{t}"].class_name == "":
            return document[f"{prefix}_{t}"].value
    return None

#------------------------------------------
# Perhitungan
#------------------------------------------

def hitung(ev):

    mode = document["mode"].value
    v1 = float(document["value1"].value)
    v2 = float(document["value2"].value)

    u1 = get_selected("u1")
    u2 = get_selected("u2")

    # KECEPATAN = JARAK / WAKTU
    if mode == "speed":
        d = dist_to_m(v1, u1)
        t = time_to_s(v2, u2)
        speed = d / t
        document["hasil"].text = "Kecepatan = " + mps_to_text(speed)
        return

    # JARAK = KECEPATAN × WAKTU
    if mode == "distance":
        s = speed_to_mps(v1, u1)
        t = time_to_s(v2, u2)
        d = s * t
        document["hasil"].text = f"Jarak = {d:.3f} m  |  {d/1000:.3f} km"
        return

    # WAKTU = JARAK / KECEPATAN
    if mode == "time":
        d = dist_to_m(v1, u1)
        s = speed_to_mps(v2, u2)
        t = d / s
        document["hasil"].text = f"Waktu = {t:.3f} detik | {t/60:.3f} menit | {t/3600:.3f} jam"
        return

document["hitung"].bind("click", hitung)

</script>

</body>
</html>
